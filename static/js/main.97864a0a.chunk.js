(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{102:function(e,t,c){},103:function(e,t,c){},104:function(e,t,c){},105:function(e,t,c){},106:function(e,t,c){},117:function(e,t,c){},118:function(e,t,c){},119:function(e,t,c){},120:function(e,t,c){"use strict";c.r(t);var n=c(2),s=c.n(n),a=c(56),r=c.n(a),i=(c(70),c(71),c(72),c(12)),l=c(42),j=c(25),o=c(8),d=c(1),b=Object(n.createContext)(),m=function(e){var t=e.children,c=Object(n.useState)([]),s=Object(o.a)(c,2),a=s[0],r=s[1];return Object(d.jsx)(b.Provider,{value:{cart:a,addItem:function(e){r([].concat(Object(j.a)(a),[e]))},removeItem:function(e){r(a.filter((function(t){return t.id!==e})))},clear:function(){r([])},isInCart:function(e){return a.some((function(t){return t.id===e}))},totalAmount:function(){return a.reduce((function(e,t){return e+t.counter}),0)},totalPrice:function(){return a.reduce((function(e,t){return e+t.price*t.counter}),0)}},children:t})},h=(c(74),function(){var e,t=Object(n.useContext)(b).totalAmount;return Object(d.jsx)(n.Fragment,{children:Object(d.jsxs)("btn",{className:"btn-shopping-cart",children:[Object(d.jsx)(l.a,{size:"24",className:"ms-2"}),Object(d.jsxs)("span",(e={className:!0},Object(i.a)(e,"className","mx-2"),Object(i.a)(e,"children",[" ",t()," "]),e))]})})}),O=(c(75),c(15)),u=c(128),x=function(){return Object(d.jsx)(n.Fragment,{children:Object(d.jsxs)("header",{children:[Object(d.jsxs)(O.b,{to:"/",className:"link",children:[" ",Object(d.jsxs)("h1",{className:"brand",children:["E",Object(d.jsx)("span",{className:"sub-h1",children:"scent"}),"ially"]})," "]}),Object(d.jsx)("nav",{children:Object(d.jsxs)("ul",{children:[Object(d.jsxs)("li",{children:[" ",Object(d.jsx)(O.b,{to:"/",children:" Home "})," "]}),Object(d.jsx)("li",{children:Object(d.jsxs)(u.a,{children:[Object(d.jsx)(u.a.Toggle,{variant:"",id:"dropdown-basic",children:Object(d.jsx)("p",{className:"dropdown-name",children:"Products"})}),Object(d.jsxs)(u.a.Menu,{children:[Object(d.jsxs)(u.a.Item,{children:[" ",Object(d.jsx)(O.b,{to:"/",className:"dropdownLink",children:" All products "})," "]},"all"),Object(d.jsxs)(u.a.Item,{children:[" ",Object(d.jsx)(O.b,{to:"category/masculine",className:"dropdownLink",children:" Masculine Perfumes "})," "]},"masculine"),Object(d.jsxs)(u.a.Item,{children:[" ",Object(d.jsx)(O.b,{to:"category/femenine",className:"dropdownLink",children:" Femenine Perfumes "})," "]},"femenine")]})]})}),Object(d.jsxs)("li",{children:[" ",Object(d.jsx)(O.b,{to:"",children:" Contact "})," "]}),Object(d.jsxs)("li",{children:[" ",Object(d.jsxs)(O.b,{to:"/cart",children:[" ",Object(d.jsx)(h,{})," "]})," "]})]})})]})})},f=c(62),p=(c(76),function(){return Object(d.jsx)("div",{className:"banner",children:Object(d.jsxs)("p",{children:["free shipping to the whole country ",Object(d.jsx)(f.a,{})]})})}),N=c(11),y=(c(77),c(125)),v=(c(78),c(126)),g=(c(79),function(e){var t=e.id,c=(e.stock,e.price),n=e.brand,s=e.name,a=(e.gender,e.family),r=e.size,i=e.img;e.topNotes,e.middleNotes,e.baseNotes;return Object(d.jsxs)("article",{className:"card m-3 product-item",children:[Object(d.jsx)("img",{src:i,alt:s}),Object(d.jsxs)("div",{className:"card-body d-flex flex-column justify-content-between",children:[Object(d.jsxs)("div",{className:"",children:[Object(d.jsx)(O.b,{to:"/item/".concat(t),className:"card-title text-center",children:Object(d.jsxs)("h3",{className:"card-title text-center",children:[n," - ",s," (",r,") "]})}),Object(d.jsxs)("p",{className:"card-text",children:[" ",Object(d.jsx)("span",{className:"fw-bold",children:"Price:"})," $",c]}),Object(d.jsxs)("p",{className:"card-text",children:[Object(d.jsx)("span",{className:"fw-bold",children:"Fragrance family:"})," ",a]})]}),Object(d.jsx)("div",{className:"w-100 d-flex justify-content-center",children:Object(d.jsx)(O.b,{to:"/item/".concat(t),className:"btn btn-secondary m-4",children:"More info"})})]})]},t)}),w=function(e){var t=e.products;return Object(d.jsx)(y.a,{children:Object(d.jsx)(v.a,{className:"item-list w-100 d-flex justify-content-center",children:t.map((function(e){return Object(d.jsx)(g,Object(N.a)({},e))}))})})},C=c(13),I=c(16),k=c(63),S=Object(k.a)({apiKey:"AIzaSyAn5qOCTfAufZgCOWt8a5EU6VLvBai5y6Q",authDomain:"escentially-tarapow.firebaseapp.com",projectId:"escentially-tarapow",storageBucket:"escentially-tarapow.appspot.com",messagingSenderId:"159361162873",appId:"1:159361162873:web:ab0d5b6a4d83ccec383ea8"}),F=Object(I.h)(S),T=(c(53),c(46)),E=c.n(T),P=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)([]),r=Object(o.a)(a,2),i=r[0],l=r[1],j=Object(C.h)().genderId,b="Our products";return j&&(b+=" : ".concat(j)),Object(n.useEffect)((function(){s(!0);var e=Object(I.c)(F,"products"),t=j?Object(I.i)(e,Object(I.j)("gender","==",j)):e;Object(I.g)(t).then((function(e){var t=e.docs.map((function(e){return Object(N.a)({id:e.id},e.data())}));l(t)})).finally((function(){s(!1)}))}),[j]),Object(d.jsx)(y.a,{className:"w-100 d-flex justify-content-center",children:c?Object(d.jsx)(E.a,{className:"loading my-5",type:"Hearts",color:"#D9A7B4",height:100,width:100}):Object(d.jsxs)("div",{className:"text-center",children:[Object(d.jsxs)("h2",{className:"text-center item-list-title m-4",children:[b," "]}),Object(d.jsx)(w,{className:"w-100 d-flex justify-content-center",products:i})]})})},D=(c(102),c(24)),A=c(47),z=function(){return Object(d.jsxs)("footer",{className:"footer p-4 w-100 d-flex flex-row justify-content-between",children:[Object(d.jsxs)("div",{className:"text-center",children:[Object(d.jsx)("h4",{className:"mb-4",children:"Contact Us"}),Object(d.jsxs)("p",{children:[Object(d.jsx)(D.e,{})," +54 9 1169972991"]}),Object(d.jsxs)("p",{children:[Object(d.jsx)(D.c,{})," valentinadct@gmail.com"]})]}),Object(d.jsxs)("div",{className:"text-center",children:[Object(d.jsx)("h4",{className:"mb-4",children:"Escentially"}),Object(d.jsx)("p",{children:"Perfuming your dreams since 2021"})]}),Object(d.jsxs)("div",{className:"text-center",children:[Object(d.jsx)("h4",{className:"mb-4",children:"Credits"}),Object(d.jsxs)("p",{children:["Made with ",Object(d.jsx)(A.b,{className:"heart"})," by Valentina Tarapow"]}),Object(d.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(d.jsx)("a",{href:"https://github.com/ValentinaTarapow",className:"me-2",children:Object(d.jsx)(D.b,{size:24})}),Object(d.jsx)("a",{href:"https://www.linkedin.com/in/valentina-tarapow/",children:Object(d.jsx)(D.a,{size:24})})]})]})]})},Y=(c(103),c(104),c(60)),B=(c(105),function(e){var t=e.max,c=e.counter,n=e.setCounter,s=e.handleAdd,a=function(){return 0===c},r=function(){return c>=t},i=function(){return 0===c||c>t};return Object(d.jsx)("div",{className:"itemCount-container",children:Object(d.jsxs)("div",{className:"itemCount",children:[Object(d.jsxs)("div",{className:"operations",children:[Object(d.jsx)(Y.a,{variant:"outline-secondary",disabled:a(),className:"btn-minus",onClick:function(){0!==c&&c>0&&n(c-1)},children:Object(d.jsx)(D.d,{})}),Object(d.jsx)("span",{onChange:i,children:"".concat(c)}),Object(d.jsx)(Y.a,{variant:"outline-secondary",disabled:r(),className:"btn-plus",onClick:function(){c!==t&&c<t&&n(c+1)},children:Object(d.jsx)(D.f,{})})]}),Object(d.jsx)("div",{children:Object(d.jsxs)(Y.a,{disabled:i(),className:"w-100 btn-add-chart",onClick:s,children:[Object(d.jsx)(l.a,{})," Add to chart"]})})]})})}),L=function(e){var t=e.id,c=e.stock,s=e.price,a=e.brand,r=e.name,i=(e.gender,e.family),l=e.size,j=e.img,m=e.topNotes,h=e.middleNotes,u=e.baseNotes,x=Object(n.useState)(1),f=Object(o.a)(x,2),p=f[0],N=f[1],y=Object(n.useState)(!1),v=Object(o.a)(y,2),g=(v[0],v[1]),w=Object(n.useContext)(b),C=w.addItem,I=w.isInCart;return Object(d.jsx)("section",{className:"ItemDetail p-5",children:Object(d.jsxs)("div",{className:"m-3 py-3 item-detail d-flex flex-row justify-content-center align-items-center",children:[Object(d.jsx)("div",{className:"img-container m-2",children:Object(d.jsx)("img",{src:j,className:"ItemImg",alt:r})}),Object(d.jsxs)("div",{className:"ItemDetail-info",children:[Object(d.jsxs)("h2",{className:"text-center detail-title",children:[a," - ",r," ",Object(d.jsxs)("span",{className:"detail-attr",children:[" (",l,")"]})," "]}),Object(d.jsxs)("h3",{className:"text-center",children:["Price: ",Object(d.jsxs)("span",{className:"detail-price fw-lighter",children:["$",s]})]}),Object(d.jsx)("hr",{}),Object(d.jsxs)("div",{className:"m-4",children:[Object(d.jsxs)("h3",{children:["Fragrance Family: ",Object(d.jsxs)("span",{className:"detail-attr",children:[i," "]})]}),Object(d.jsxs)("div",{className:"topNotes m-4",children:[Object(d.jsx)("h4",{children:"Top Notes"}),Object(d.jsx)("p",{className:"detail-attr",children:m.join(" - ")})]}),Object(d.jsxs)("div",{className:"middleNotes m-4",children:[Object(d.jsx)("h4",{children:"Middle Notes"}),Object(d.jsx)("p",{className:"detail-attr",children:h.join(" - ")})]}),Object(d.jsxs)("div",{className:"baseNotes m-4",children:[Object(d.jsx)("h4",{children:"Base Notes"}),Object(d.jsx)("p",{className:"detail-attr",children:u.join(" - ")})]})]}),Object(d.jsx)("div",{className:"d-flex justify-content-center",children:I(t)?Object(d.jsx)(O.b,{to:"/cart",className:"btn btn-success",children:"Finish shopping"}):Object(d.jsx)(B,{max:c,counter:p,setCounter:N,handleAdd:function(){p>0&&(C({id:t,name:r,brand:a,price:s,img:j,size:l,counter:p}),g(!0))}})})]})]})})},M=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(!1),r=Object(o.a)(a,2),i=r[0],l=r[1],j=Object(C.h)().itemId;return Object(n.useEffect)((function(){s(!0);var e=Object(I.d)(F,"products",j);Object(I.f)(e).then((function(e){l(Object(N.a)({id:e.id},e.data()))})).finally((function(){s(!1)}))}),[j]),Object(d.jsx)("div",{className:"ItemDetail-container",children:c?Object(d.jsx)(E.a,{className:"loading my-5 text-center",type:"Hearts",color:"#D9A7B4",height:100,width:100}):Object(d.jsx)(L,Object(N.a)({},i))})},H=(c(106),c(127)),$=c(64),V=function(e){var t=e.id,c=e.name,s=e.brand,a=e.size,r=e.price,i=e.counter,l=Object(n.useContext)(b).removeItem;return Object(d.jsxs)("tr",{children:[Object(d.jsxs)("td",{children:[s," - ",c]}),Object(d.jsxs)("td",{children:["#",t]}),Object(d.jsx)("td",{children:a}),Object(d.jsxs)("td",{children:["$",r]}),Object(d.jsx)("td",{children:i}),Object(d.jsxs)("td",{children:["$",i*r]}),Object(d.jsx)("td",{children:Object(d.jsxs)("btn",{className:"btn btn-danger",onClick:function(){l(t)},children:[" ",Object(d.jsx)($.a,{})]})})]})},G=function(){var e=Object(n.useContext)(b),t=e.cart,c=e.clear,s=e.totalPrice;return Object(d.jsx)("div",{className:"container my-4",children:t.length>0?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h2",{className:"text-center",children:"Your Cart"}),Object(d.jsx)("section",{className:"cart-list my-4",children:Object(d.jsxs)(H.a,{className:"bg-light",variant:"striped",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:" Name "}),Object(d.jsx)("th",{children:" ID "}),Object(d.jsx)("th",{children:" Size "}),Object(d.jsx)("th",{children:" Price per unit"}),Object(d.jsx)("th",{children:" Quantity "}),Object(d.jsx)("th",{children:" Total item price "}),Object(d.jsx)("th",{})]})}),t.map((function(e){return Object(d.jsx)(V,Object(N.a)({},e))}))]})}),Object(d.jsx)("section",{className:"text-center",children:Object(d.jsxs)("h3",{children:["Total price: $ ",s()]})}),Object(d.jsxs)("section",{className:"cart-buttons w-100 d-flex justify-content-around",children:[Object(d.jsx)("btn",{className:"btn btn-danger",onClick:c,children:"Empty"}),Object(d.jsx)(O.b,{to:"/checkout",className:"btn btn-success",children:"Finish"})]})]}):Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("section",{className:"empty-cart my-5 w-100 d-flex flex-column justify-content-center align-items-center",children:[Object(d.jsx)("h2",{className:"text-center mb-5",children:"Your cart is empty :("}),Object(d.jsx)(O.b,{to:"/",children:Object(d.jsx)("btn",{className:"btn btn-secondary",children:"Go Home"})})]})})})},J=c(30),Q=c.n(J),U=(c(117),c(118),c(3)),W=c.n(U),q=c(6),K=function(){var e=Object(q.a)(W.a.mark((function e(t,c,n,s){var a,r,i,l,j,o;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={buyer:Object(N.a)({},t),items:c,total:n(),date:I.a.fromDate(new Date)},r=Object(I.k)(F),i=Object(I.c)(F,"orders"),l=Object(I.c)(F,"products"),j=Object(I.i)(l,Object(I.j)(Object(I.e)(),"in",c.map((function(e){return e.id})))),o=[],e.next=8,Object(I.g)(j);case 8:e.sent.docs.forEach((function(e){var t=c.find((function(t){return t.id===e.id}));e.data().stock>=t.counter?r.update(e.ref,{stock:e.data().stock-t.counter}):o.push(t)})),0===o.length?Object(I.b)(i,a).then((function(e){r.commit(),Q.a.fire({icon:"success",title:"Your order has been placed successfully",text:"Your order ID is: #".concat(e.id),footer:"We will contact you very soon to update your order status. Thank you for your purchase!"}),s()})):Q.a.fire({icon:"error",title:"There is no stock available of these products:",text:o.map((function(e){return e.name})).join(", ")});case 11:case"end":return e.stop()}}),e)})));return function(t,c,n,s){return e.apply(this,arguments)}}(),R=function(){var e=Object(n.useContext)(b),t=e.cart,c=e.totalPrice,s=e.clear,a=Object(n.useState)({name:"",surname:"",email:"",emailConfirm:""}),r=Object(o.a)(a,2),l=r[0],j=r[1],m=function(e){j(Object(N.a)(Object(N.a)({},l),{},Object(i.a)({},e.target.name,e.target.value)))};return Object(d.jsx)(d.Fragment,{children:0===t.length?Object(d.jsx)(C.a,{to:"/"}):Object(d.jsxs)("div",{className:"container my-5",children:[Object(d.jsx)("h2",{children:"Checkout : finish your order"}),Object(d.jsx)("hr",{}),Object(d.jsxs)("form",{className:"checkout-form p-4",onSubmit:function(e){e.preventDefault(),function(e){return e.name.length<2?(Q.a.fire({icon:"error",title:"Invalid name",text:"You must complete the name field (at least 2 character)"}),!1):e.surname.length<2?(Q.a.fire({icon:"error",title:"Invalid surname",text:"You must complete the surname field (at least 2 character)"}),!1):e.email.length<5?(Q.a.fire({icon:"error",title:"Invalid email",text:"You must complete the surname field (at least 6 characters)"}),!1):e.emailConfirm===e.email||(Q.a.fire({icon:"error",title:"Emails do not match"}),!1)}(l)&&K(l,t,c,s)},children:[Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{children:"Name"}),l.name.length<2&&Object(d.jsx)("small",{children:"This field is mandatory (at least 2 characters)"}),Object(d.jsx)("input",{onChange:m,name:"name",value:l.name,type:"text",placeholder:"Name",className:l.name.length<2?"form-control my-2 invalid-form":"form-control my-2"})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{children:"Surname"}),l.surname.length<2&&Object(d.jsx)("small",{children:"This field is mandatory (at least 2 characters)"}),Object(d.jsx)("input",{onChange:m,name:"surname",value:l.surname,type:"text",placeholder:"Surname",className:l.surname.length<2?"form-control my-2 invalid-form":"form-control my-2"})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{children:"Email"}),l.email.length<6&&Object(d.jsx)("small",{children:"This field is mandatory (at least 6 characters)"}),Object(d.jsx)("input",{onChange:m,name:"email",value:l.email,type:"email",placeholder:"Email",className:l.email.length<6?"form-control my-2 invalid-form":"form-control my-2"})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{children:"Email confirmation"}),l.emailConfirm!==l.email&&Object(d.jsx)("small",{children:"Emails do not match"}),Object(d.jsx)("input",{onChange:m,name:"emailConfirm",value:l.emailConfirm,type:"email",placeholder:"Repeat email",className:l.emailConfirm===l.email&&l.email?"form-control my-2":"form-control my-2 invalid-form"})]})]}),Object(d.jsx)("div",{className:"d-flex justify-content-center",children:Object(d.jsxs)("button",{type:"submit",className:"btn btn-submit-order my-5",children:["Submit order ",Object(d.jsx)(D.g,{})]})})]})]})})},Z=(c(119),function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("section",{id:"page404",className:"my-5 w-100 d-flex flex-column justify-content-center align-items-center",children:[Object(d.jsxs)("div",{className:"d-flex flex-column justify-content-center",children:[Object(d.jsx)("h4",{children:"404"}),Object(d.jsx)("p",{children:"Oops! You seem to be lost "}),Object(d.jsxs)("p",{className:"redirect",children:["No problem ",Object(d.jsx)(A.a,{})," "]})]}),Object(d.jsx)(O.b,{to:"/",children:Object(d.jsx)("btn",{className:"btn btn-secondary",children:"Go Home"})})]})})});var X=function(){return Object(d.jsxs)(m,{children:[Object(d.jsx)(p,{}),Object(d.jsxs)(O.a,{children:[Object(d.jsx)(x,{}),Object(d.jsxs)(C.d,{children:[Object(d.jsx)(C.b,{path:"/",element:Object(d.jsx)(P,{})}),Object(d.jsx)(C.b,{path:"category/:genderId",element:Object(d.jsx)(P,{})}),Object(d.jsx)(C.b,{path:"item/:itemId",element:Object(d.jsx)(M,{})}),Object(d.jsx)(C.b,{path:"cart",element:Object(d.jsx)(G,{})}),Object(d.jsx)(C.b,{path:"checkout",element:Object(d.jsx)(R,{})}),Object(d.jsx)(C.b,{path:"*",element:Object(d.jsx)(Z,{})})]}),Object(d.jsx)(z,{})]})]})},_=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,129)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),n(e),s(e),a(e),r(e)}))};r.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(X,{})}),document.getElementById("root")),_()},70:function(e,t,c){},72:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},76:function(e,t,c){},77:function(e,t,c){},78:function(e,t,c){},79:function(e,t,c){}},[[120,1,2]]]);
//# sourceMappingURL=main.97864a0a.chunk.js.map